<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
  <input type="text" class="search" [(ngModel)]="searchText" placeholder="Search">
</div>

<div class="pricing-header mx-auto">
  <div class="no-data text-center" *ngIf="preLoader">
  </div>

  <div class="no-data text-center" *ngIf="noData">
    <p class="nodata-msg">No donor added yet!</p>
    <a routerLink="/home/add" class="btn btn-success"> Add Donor </a>
  </div>

  <div class="table-responsive" *ngIf="hideWhenNoDonor">
    <table class="table table-bordered table-responsive-sm table-responsive-md table-responsive-lg">
      <thead class="table-head">
        <tr>
          <th scope="col">Donor Details</th>
          <th class="text-center" scope="col">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="
            let donor of donors
              | filter: searchText
              | paginate: { itemsPerPage: 10, currentPage: p };
            let i = index
          ">
          <td class="p-0">
            <div class=" p-2 d-flex justify-content-between align-items-center" style="cursor: pointer;"
              (click)="donor.opened = !donor.opened ">
              <div class="row align-items-end flex-grow-1">
                <span class="col-md-6">
                  <i class="fas fa-caret-right d-md-none" *ngIf="!donor.opened"></i>
                  <i class="fas fa-caret-down d-md-none" *ngIf="donor.opened"></i>
                  {{ donor.name }}
                </span>
                <span class="col-md-6 mx-md-0 mx-4" style="font-size: .7rem;">{{donor.district}}</span>
              </div>
              <span class="border-1 border px-2 rounded border-info">{{ donor.group }}</span>
            </div>
            <div *ngIf="donor.opened && isAdmin" class="bg-dark-subtle d-md-none d-flex justify-content-evenly py-2">
              <span class="btn btn-outline-success btn-sm" title="Call">
                <a href="tel:{{donor.mobileNumber}}"><em class="fas fa-phone fa-rotate-90"></em></a>
              </span>
              <span class=" btn btn-outline-primary btn-sm" title="Edit" routerLink="/home/edit/{{ donor.id}}"><em
                  class="fas fa-pencil-alt"></em></span>
              <span class="btn btn-outline-danger btn-sm" title="Delete" (click)="deleteDonor(donor)"><em
                  class="fas fa-trash-alt"></em></span>
            </div>
            <div *ngIf="donor.opened && !isAdmin" class="bg-dark-subtle d-md-none d-flex justify-content-evenly py-2">
              <a href="">Request for contact</a>
            </div>
          </td>
          <td *ngIf="isAdmin" class="text-center action-block table-cell">
            <span class=" me-2 btn btn-outline-success btn-sm" title="Call">
              <a href="tel:{{donor.mobileNumber}}"><em class="fas fa-phone fa-rotate-90"></em></a>
            </span>
            <span class="me-2 btn btn-outline-primary btn-sm" title="Edit" routerLink="/home/edit/{{ donor.id }}"><em
                class="fas fa-pencil-alt"></em></span>
            <span class="me-2 btn btn-outline-danger btn-sm" title="Delete" (click)="deleteDonor(donor)"><em
                class="fas fa-trash-alt"></em></span>
          </td>
          <td *ngIf="!isAdmin" class="text-center action-block table-cell">
            <a href="">Request for contact</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <pagination-controls (pageChange)="p = $any($event)"></pagination-controls>
</div>